# Simple Storage Service (S3)

## Overview

- Buckets are a universal namespace (DNS names)
- POST/PUT returns HTTP 200 when upload is complete
- Object-based storage (not file system)
- 99.999999999% (11 9's) durability
- 99.99% availability for Standard storage class

## Storage Classes

1. **S3 Standard** - General purpose, frequently accessed data
2. **S3 Intelligent-Tiering** - Automatic cost optimization
3. **S3 Standard-IA** - Infrequently accessed data
4. **S3 One Zone-IA** - Infrequently accessed, single AZ
5. **S3 Glacier Instant Retrieval** - Archive with millisecond retrieval
6. **S3 Glacier Flexible Retrieval** - Archive with retrieval in minutes
7. **S3 Glacier Deep Archive** - Lowest cost, retrieval in 12 hours
8. **S3 Outposts** - On-premises S3 storage

## Control

Bucket ACL or Bucket Polices.
By Default Buckets are **Private**.

## Versioning

1.  Stores all version (even delete)
2.  Great Backup
3.  Only Suspend
4.  Life-cycle rules
5.  There is a great MFA

[Docs about Versioning](https://docs.aws.amazon.com/amazons3/latest/dev/versioning.html)

## Cross Region replication.

1.  Versioning must be enabled (source + destination).
2.  Regions must be unique.
3.  Existing Files are not replicated(**new files** are replicated).
4.  Delete markers are replicated.
5.  Deleting versions or markers are not replicated.

## Lifecycle Management

1. Can be used with versioning
2. Can be applied to current and previous versions
3. Transitions to IA, Glacier, and Deep Archive
4. Can expire objects automatically
5. Intelligent-Tiering moves objects between access tiers automatically

## New Features (2024)

- **S3 Multi-Region Access Points** - Global data access
- **S3 Object Lambda** - Transform objects on-the-fly
- **S3 Batch Operations** - Bulk operations on objects
- **S3 Replication** - Cross-region and same-region replication
- **S3 Transfer Acceleration** - Faster uploads using CloudFront
- **S3 Event Notifications** - Real-time notifications
- **S3 Inventory** - Track objects and metadata
- **S3 Analytics** - Storage class analysis

# Security and Encryption

1.  By default all Buckets are private.

- Bucket Policies
- Access Control Lists

## Encryption.

1.  In Transit. (From PC to Bucket) SSL/TLS

2.  Rest

- Server Side Encryption
  - S3 Managed Keys **SSE S3**
  - AWS Key Management Service, Managed Keys. - **SSE-KMS** (provides also audit trails)
  - SSE with Customer provided keys. - **SSE-C**
- Client Side Encryption

## S3 Host static site.

Domain name and bucket name must match.

Using the format below:

```
bucketname.s3-website-region.amazonaws.com
```
